{"ast":null,"code":"import React,{useEffect,useState}from'react';import{io}from'socket.io-client';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const socket=io('http://localhost:5000');// Move the socket outside the component\nconst Chat=()=>{const[messages,setMessages]=useState([]);const[message,setMessage]=useState('');useEffect(()=>{socket.on('message',message=>{setMessages(prevMessages=>[...prevMessages,message]);});return()=>{socket.off('message');// Cleanup the socket listener on component unmount\n};},[]);const sendMessage=()=>{socket.emit('message',message);setMessage('');};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"ul\",{children:messages.map((msg,index)=>/*#__PURE__*/_jsx(\"li\",{children:msg},index))}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:message,onChange:e=>setMessage(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:sendMessage,children:\"Send\"})]});};export default Chat;","map":{"version":3,"names":["React","useEffect","useState","io","jsx","_jsx","jsxs","_jsxs","socket","Chat","messages","setMessages","message","setMessage","on","prevMessages","off","sendMessage","emit","children","map","msg","index","type","value","onChange","e","target","onClick"],"sources":["/home/ben/Documents/ChatPulse/frontend/src/components/Chat.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { io } from 'socket.io-client';\n\nconst socket = io('http://localhost:5000'); // Move the socket outside the component\n\nconst Chat = () => {\n  const [messages, setMessages] = useState([]);\n  const [message, setMessage] = useState('');\n\n  useEffect(() => {\n    socket.on('message', (message) => {\n      setMessages((prevMessages) => [...prevMessages, message]);\n    });\n\n    return () => {\n      socket.off('message'); // Cleanup the socket listener on component unmount\n    };\n  }, []);\n\n  const sendMessage = () => {\n    socket.emit('message', message);\n    setMessage('');\n  };\n\n  return (\n    <div>\n      <ul>\n        {messages.map((msg, index) => (\n          <li key={index}>{msg}</li>\n        ))}\n      </ul>\n      <input\n        type=\"text\"\n        value={message}\n        onChange={(e) => setMessage(e.target.value)}\n      />\n      <button onClick={sendMessage}>Send</button>\n    </div>\n  );\n};\n\nexport default Chat;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,EAAE,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtC,KAAM,CAAAC,MAAM,CAAGL,EAAE,CAAC,uBAAuB,CAAC,CAAE;AAE5C,KAAM,CAAAM,IAAI,CAAGA,CAAA,GAAM,CACjB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACU,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAE1CD,SAAS,CAAC,IAAM,CACdO,MAAM,CAACM,EAAE,CAAC,SAAS,CAAGF,OAAO,EAAK,CAChCD,WAAW,CAAEI,YAAY,EAAK,CAAC,GAAGA,YAAY,CAAEH,OAAO,CAAC,CAAC,CAC3D,CAAC,CAAC,CAEF,MAAO,IAAM,CACXJ,MAAM,CAACQ,GAAG,CAAC,SAAS,CAAC,CAAE;AACzB,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACxBT,MAAM,CAACU,IAAI,CAAC,SAAS,CAAEN,OAAO,CAAC,CAC/BC,UAAU,CAAC,EAAE,CAAC,CAChB,CAAC,CAED,mBACEN,KAAA,QAAAY,QAAA,eACEd,IAAA,OAAAc,QAAA,CACGT,QAAQ,CAACU,GAAG,CAAC,CAACC,GAAG,CAAEC,KAAK,gBACvBjB,IAAA,OAAAc,QAAA,CAAiBE,GAAG,EAAXC,KAAgB,CAC1B,CAAC,CACA,CAAC,cACLjB,IAAA,UACEkB,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEZ,OAAQ,CACfa,QAAQ,CAAGC,CAAC,EAAKb,UAAU,CAACa,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC7C,CAAC,cACFnB,IAAA,WAAQuB,OAAO,CAAEX,WAAY,CAAAE,QAAA,CAAC,MAAI,CAAQ,CAAC,EACxC,CAAC,CAEV,CAAC,CAED,cAAe,CAAAV,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}